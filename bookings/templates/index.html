<!DOCTYPE html>
<html lang="en">
{% load static %}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TravelEase - Book Flights, Hotels & Holiday Packages</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #008cff;
            --secondary: #ef6614;
            --light-blue: #e8f4ff;
            --dark-blue: #0b3558;
            --gray: #9b9b9b;
            --light-gray: #f2f2f2;
            --white: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background-color: #f8f8f8;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Header Styles */
        header {
            background-color: var(--primary);
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            color: white;
            font-size: 24px;
            font-weight: 700;
            display: flex;
            align-items: center;
        }

        .logo-icon {
            margin-right: 10px;
            font-size: 28px;
        }

        .nav-menu {
            display: flex;
            gap: 20px;
        }

        .nav-item {
            color: white;
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            padding: 5px 0;
            position: relative;
        }

        .nav-item:hover::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: white;
        }

        .user-actions {
            display: flex;
            gap: 15px;
        }

        .user-action-btn {
            color: white;
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            padding: 8px 15px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s;
        }

        .user-action-btn:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Hero Section */
        .hero-section {
            background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('{% static "images/hero-bg.jpg" %}');
            background-size: cover;
            background-position: center;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
            position: relative;
        }

        .hero-content {
            max-width: 800px;
            padding: 0 20px;
        }

        .hero-title {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .hero-subtitle {
            font-size: 18px;
            font-weight: 400;
            margin-bottom: 25px;
        }

        /* Search Form Styles */
        .search-container {
            background-color: var(--white);
            border-radius: 8px;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            padding: 25px;
            margin-top: -50px;
            position: relative;
            z-index: 10;
        }

        .search-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .search-tab {
            padding: 10px 20px;
            cursor: pointer;
            font-weight: 500;
            color: var(--gray);
            position: relative;
        }

        .search-tab.active {
            color: var(--primary);
        }

        .search-tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--primary);
        }

        .search-content {
            display: none;
        }

        .search-content.active {
            display: block;
        }

        /* Trip Type Toggle */
        .trip-type-container {
            display: flex;
            margin-bottom: 20px;
            background-color: var(--light-gray);
            border-radius: 30px;
            padding: 5px;
            width: fit-content;
        }

        .trip-type-option {
            padding: 8px 20px;
            cursor: pointer;
            font-weight: 500;
            font-size: 14px;
            border-radius: 30px;
            transition: all 0.3s;
        }

        .trip-type-option.active {
            background-color: var(--primary);
            color: white;
        }

        .search-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .form-group {
            position: relative;
        }

        .form-group label {
            display: block;
            font-size: 12px;
            font-weight: 600;
            color: var(--dark-blue);
            margin-bottom: 5px;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(0, 140, 255, 0.2);
        }

        .suggestions {
            border: 1px solid #eee;
            max-height: 200px;
            overflow-y: auto;
            position: absolute;
            background-color: white;
            width: 100%;
            z-index: 100;
            border-radius: 0 0 4px 4px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .suggestion {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 1px solid #f5f5f5;
        }

        .suggestion:hover {
            background-color: var(--light-blue);
        }

        .search-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            grid-column: 1 / -1;
            margin-top: 10px;
        }

        .search-btn:hover {
            background-color: #0070cc;
        }

        /* Trip Type Indicator */
        .trip-indicator {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px 15px;
            background-color: var(--light-blue);
            border-radius: 4px;
            color: var(--dark-blue);
        }

        .trip-indicator-icon {
            margin-right: 10px;
            font-size: 18px;
        }

        /* Featured Sections */
        .section-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--dark-blue);
            margin: 40px 0 20px;
            text-align: center;
        }

        .section-subtitle {
            font-size: 16px;
            color: var(--gray);
            text-align: center;
            margin-bottom: 30px;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .card-img {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .card-content {
            padding: 15px;
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--dark-blue);
        }

        .card-text {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 12px;
        }

        .card-price {
            font-size: 16px;
            font-weight: 700;
            color: var(--primary);
        }

        .card-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: var(--secondary);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        /* Offers Section */
        .offers-section {
            background-color: var(--light-blue);
            padding: 40px 0;
            margin: 40px 0;
        }

        .offer-card {
            display: flex;
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
        }

        .offer-img {
            width: 30%;
            object-fit: cover;
        }

        .offer-content {
            padding: 20px;
            flex: 1;
        }

        .offer-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark-blue);
        }

        .offer-text {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 15px;
        }

        .offer-code {
            display: inline-block;
            padding: 5px 10px;
            background-color: var(--light-gray);
            border: 1px dashed var(--gray);
            border-radius: 4px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .offer-btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            padding: 8px 15px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            transition: background-color 0.3s;
        }

        .offer-btn:hover {
            background-color: #0070cc;
        }

        /* Footer */
        footer {
            background-color: var(--dark-blue);
            color: white;
            padding: 40px 0 20px;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-column h4 {
            font-size: 18px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: #ccc;
            text-decoration: none;
            font-size: 14px;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: white;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
            color: #ccc;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .search-form {
                grid-template-columns: 1fr;
            }

            .trip-type-container {
                width: 100%;
                justify-content: center;
            }

            .offer-card {
                flex-direction: column;
            }

            .offer-img {
                width: 100%;
                height: 180px;
            }

            .nav-menu, .user-actions {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
                color: white;
                font-size: 24px;
                background: none;
                border: none;
                cursor: pointer;
            }
        }

        @media (min-width: 769px) {
            .mobile-menu-btn {
                display: none;
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">✈</span> TravelEase
                </div>
                <nav class="nav-menu">
                    <a href="#" class="nav-item">Flights</a>
                    <a href="#" class="nav-item">Hotels</a>
                    <a href="#" class="nav-item">Holiday Packages</a>
                    <a href="#" class="nav-item">Offers</a>
                </nav>
                <div class="user-actions">
                    <a href="#" class="user-action-btn">Login</a>
                    <a href="#" class="user-action-btn">Sign Up</a>
                </div>
                <button class="mobile-menu-btn">☰</button>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">Travel the world with ease</h1>
            <p class="hero-subtitle">Find the best deals on flights, hotels, and holiday packages</p>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container">
        <!-- Search Form -->
        <div class="search-container">
            <div class="search-tabs">
                <div class="search-tab active" data-tab="flights">Flights</div>
                <div class="search-tab" data-tab="hotels">Hotels</div>
                <div class="search-tab" data-tab="packages">Holiday Packages</div>
            </div>

            <!-- Flights Search -->
            <div class="search-content active" id="flights-search">
                <!-- Trip Type Toggle -->
                <div class="trip-type-container">
                    <div class="trip-type-option active" data-trip-type="oneway">One Way</div>
                    <div class="trip-type-option" data-trip-type="roundtrip">Round Trip</div>
                </div>

                <form id="flight-search-form" method="get" class="search-form" action="{% url 'search_flights' %}">
                    <input type="hidden" id="trip-type" name="trip_type" value="oneway">

                    <div class="form-group">
                        <label for="origin">From</label>
                        <input type="text" id="origin" class="form-control" autocomplete="off" name="origin"
                            value="{{ origin }}" placeholder="City or Airport">
                        <div id="origin-list" class="suggestions"></div>
                    </div>

                    <div class="form-group">
                        <label for="destination">To</label>
                        <input type="text" id="destination" class="form-control" autocomplete="off" name="destination"
                            value="{{ destination }}" placeholder="City or Airport">
                        <div id="destination-list" class="suggestions"></div>
                    </div>

                    <div class="form-group">
                        <label for="departure-date">Departure Date</label>
                        <input type="date" id="departure-date" class="form-control" name="date" value="{{ date }}">
                    </div>

                    <div class="form-group return-date-group" style="display: none;">
                        <label for="return-date">Return Date</label>
                        <input type="date" id="return-date" class="form-control" name="return_date"
                            value="{{ return_date }}">
                    </div>

                    <div class="form-group">
                        <label for="cabinclass">Cabin Class</label>
                        <select id="cabinclass" class="form-control" name="cabinclass">
                            <option value="ECONOMY" {% if cabinclass == "ECONOMY" %}selected{% endif %}>Economy</option>
                            <option value="PREMIUM_ECONOMY" {% if cabinclass == "PREMIUM_ECONOMY" %}selected{% endif %}>Premium Economy</option>
                            <option value="BUSINESS" {% if cabinclass == "BUSINESS" %}selected{% endif %}>Business</option>
                            <option value="FIRST" {% if cabinclass == "FIRST" %}selected{% endif %}>First Class</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Travelers</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="number" id="adults" class="form-control" name="adults"
                                value="{{ adults|default:'1' }}" min="1" placeholder="Adults">
                            <input type="number" id="children" class="form-control" name="children"
                                value="{{ children|default:'0' }}" min="0" placeholder="Children">
                            <input type="number" id="infants" class="form-control" name="infants"
                                value="{{ infants|default:'0' }}" min="0" placeholder="Infants">
                        </div>
                    </div>

                    <button type="submit" class="search-btn">Search Flights</button>
                </form>
            </div>

            <!-- Hotels Search -->
            <div class="search-content" id="hotels-search">
                <form id="hotel-search-form" method="get" class="search-form" action="{% url 'hotel_search' %}">
                    <div class="form-group">
                        <label for="hotel-destination">Destination</label>
                        <input type="text" id="hotel-destination" class="form-control" name="hotel_destination"
                            placeholder="City, Area or Property">
                    </div>

                    <div class="form-group">
                        <label for="check-in">Check-in Date</label>
                        <input type="date" id="check-in" class="form-control" name="check_in">
                    </div>

                    <div class="form-group">
                        <label for="check-out">Check-out Date</label>
                        <input type="date" id="check-out" class="form-control" name="check_out">
                    </div>

                    <div class="form-group">
                        <label for="rooms">Rooms & Guests</label>
                        <select id="rooms" class="form-control" name="rooms">
                            <option value="1">1 Room, 2 Adults</option>
                            <option value="2">2 Rooms, 4 Adults</option>
                            <option value="3">3 Rooms, 6 Adults</option>
                            <option value="custom">Custom</option>
                        </select>
                    </div>

                    <button type="submit" class="search-btn">Search Hotels</button>
                </form>
            </div>

            <!-- Packages Search -->
            <div class="search-content" id="packages-search">
                <form id="package-search-form" method="get" class="search-form" action="{% url 'package_search' %}">
                    <div class="form-group">
                        <label for="package-from">From</label>
                        <input type="text" id="package-from" class="form-control" name="package_from"
                            placeholder="Your City">
                    </div>

                    <div class="form-group">
                        <label for="package-to">To</label>
                        <input type="text" id="package-to" class="form-control" name="package_to"
                            placeholder="Destination">
                    </div>

                    <div class="form-group">
                        <label for="package-start">Start Date</label>
                        <input type="date" id="package-start" class="form-control" name="package_start">
                    </div>

                    <div class="form-group">
                        <label for="package-duration">Duration</label>
                        <select id="package-duration" class="form-control" name="package_duration">
                            <option value="3">3 Nights / 4 Days</option>
                            <option value="4">4 Nights / 5 Days</option>
                            <option value="5">5 Nights / 6 Days</option>
                            <option value="7">7 Nights / 8 Days</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="package-travelers">Travelers</label>
                        <input type="number" id="package-travelers" class="form-control" name="package_travelers"
                            value="2" min="1">
                    </div>

                    <button type="submit" class="search-btn">Search Packages</button>
                </form>
            </div>
        </div>

        <!-- Featured Destinations -->
        <h2 class="section-title">Featured Destinations</h2>
        <p class="section-subtitle">Explore our handpicked destinations with great deals</p>

        <div class="card-grid">
            {% for destination in featured_destinations %}
            <div class="card" style="position: relative;">
                {% if destination.discount %}
                <span class="card-badge">{{ destination.discount }}% OFF</span>
                {% endif %}
                <img src="{{ destination.image }}" alt="{{ destination.name }}" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">{{ destination.name }}</h3>
                    <p class="card-text">{{ destination.description }}</p>
                    <p class="card-price">Flights from {{ destination.price }}</p>
                </div>
            </div>
            {% empty %}
            <!-- Fallback content if no destinations in context -->
            <div class="card">
                <img src="{% static 'images/destinations/bali.jpg' %}" alt="Bali" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">Bali, Indonesia</h3>
                    <p class="card-text">Tropical paradise with beautiful beaches</p>
                    <p class="card-price">Flights from ₹25,000</p>
                </div>
            </div>
            <div class="card" style="position: relative;">
                <span class="card-badge">15% OFF</span>
                <img src="{% static 'images/destinations/dubai.jpg' %}" alt="Dubai" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">Dubai, UAE</h3>
                    <p class="card-text">Luxury shopping and modern architecture</p>
                    <p class="card-price">Flights from ₹18,500</p>
                </div>
            </div>
            <div class="card">
                <img src="{% static 'images/destinations/bangkok.jpg' %}" alt="Bangkok" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">Bangkok, Thailand</h3>
                    <p class="card-text">Vibrant street life and ornate shrines</p>
                    <p class="card-price">Flights from ₹15,000</p>
                </div>
            </div>
            <div class="card">
                <img src="{% static 'images/destinations/singapore.jpg' %}" alt="Singapore" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">Singapore</h3>
                    <p class="card-text">Modern city with gardens and attractions</p>
                    <p class="card-price">Flights from ₹22,000</p>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Popular Hotels -->
        <h2 class="section-title">Popular Hotels</h2>
        <p class="section-subtitle">Discover top-rated hotels with exclusive deals</p>

        <div class="card-grid">
            {% for hotel in popular_hotels %}
            <div class="card">
                <img src="{{ hotel.image }}" alt="{{ hotel.name }}" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">{{ hotel.name }}</h3>
                    <p class="card-text">{{ hotel.location }}</p>
                    <p class="card-price">{{ hotel.price }} per night</p>
                </div>
            </div>
            {% empty %}
            <!-- Fallback content if no hotels in context -->
            <div class="card">
                <img src="{% static 'images/hotels/marriott.jpg' %}" alt="Marriott Hotel" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">Marriott Hotel</h3>
                    <p class="card-text">Mumbai, India</p>
                    <p class="card-price">₹8,500 per night</p>
                </div>
            </div>
            <div class="card">
                <img src="{% static 'images/hotels/taj.jpg' %}" alt="Taj Palace" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">Taj Palace</h3>
                    <p class="card-text">New Delhi, India</p>
                    <p class="card-price">₹12,000 per night</p>
                </div>
            </div>
            <div class="card">
                <img src="{% static 'images/hotels/hyatt.jpg' %}" alt="Hyatt Regency" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">Hyatt Regency</h3>
                    <p class="card-text">Goa, India</p>
                    <p class="card-price">₹9,200 per night</p>
                </div>
            </div>
            <div class="card">
                <img src="{% static 'images/hotels/leela.jpg' %}" alt="The Leela Palace" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">The Leela Palace</h3>
                    <p class="card-text">Bengaluru, India</p>
                    <p class="card-price">₹10,500 per night</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Special Offers Section -->
    <section class="offers-section">
        <div class="container">
            <h2 class="section-title">Special Offers</h2>
            <p class="section-subtitle">Grab these limited-time deals before they're gone</p>

            <div class="offer-card">
                <img src="{% static 'images/offers/flight-offer.jpg' %}" alt="Flight Offer" class="offer-img">
                <div class="offer-content">
                    <h3 class="offer-title">Domestic Flights Flash Sale</h3>
                    <p class="offer-text">Get up to 25% off on all domestic flights. Book now for the upcoming holiday season and save big!</p>
                    <div class="offer-code">FLYNOW25</div>
                    <a href="#" class="offer-btn">Book Now</a>
                </div>
            </div>

            <div style="margin-top: 20px;"></div>

            <div class="offer-card">
                <img src="{% static 'images/offers/hotel-offer.jpg' %}" alt="Hotel Offer" class="offer-img">
                <div class="offer-content">
                    <h3 class="offer-title">Luxury Hotel Weekend Getaway</h3>
                    <p class="offer-text">Enjoy a luxurious weekend getaway with 30% off on premium hotels. Includes complimentary breakfast and spa access.</p>
                    <div class="offer-code">WEEKEND30</div>
                    <a href="#" class="offer-btn">Book Now</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Holiday Packages -->
    <div class="container">
        <h2 class="section-title">Popular Holiday Packages</h2>
        <p class="section-subtitle">All-inclusive packages for a hassle-free vacation</p>

        <div class="card-grid">
            {% for package in holiday_packages %}
            <div class="card">
                <img src="{{ package.image }}" alt="{{ package.name }}" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">{{ package.name }}</h3>
                    <p class="card-text">{{ package.duration }} | {{ package.inclusions }}</p>
                    <p class="card-price">{{ package.price }} per person</p>
                </div>
            </div>
            {% empty %}
            <!-- Fallback content if no packages in context -->
            <div class="card">
                <img src="{% static 'images/packages/goa.jpg' %}" alt="Goa Beach Vacation" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">Goa Beach Vacation</h3>
                    <p class="card-text">4 Nights / 5 Days | Flights + Hotel + Transfers</p>
                    <p class="card-price">₹25,000 per person</p>
                </div>
            </div>
            <div class="card">
                <img src="{% static 'images/packages/kerala.jpg' %}" alt="Kerala Backwaters" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">Kerala Backwaters</h3>
                    <p class="card-text">5 Nights / 6 Days | Flights + Hotel + Sightseeing</p>
                    <p class="card-price">₹32,000 per person</p>
                </div>
            </div>
            <div class="card">
                <img src="{% static 'images/packages/andaman.jpg' %}" alt="Andaman Islands" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">Andaman Islands</h3>
                    <p class="card-text">6 Nights / 7 Days | Flights + Resort + Activities</p>
                    <p class="card-price">₹45,000 per person</p>
                </div>
            </div>
            <div class="card">
                <img src="{% static 'images/packages/rajasthan.jpg' %}" alt="Rajasthan Heritage Tour" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">Rajasthan Heritage Tour</h3>
                    <p class="card-text">7 Nights / 8 Days | Flights + Hotels + Guide</p>
                    <p class="card-price">₹38,000 per person</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h4>Company</h4>
                    <ul class="footer-links">
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Careers</a></li>
                        <li><a href="#">Press</a></li>
                        <li><a href="#">Investor Relations</a></li>
                        <li><a href="#">Partner With Us</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Support</h4>
                    <ul class="footer-links">
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Safety Center</a></li>
                        <li><a href="#">Community Guidelines</a></li>
                        <li><a href="#">COVID-19 Travel Info</a></li>
                        <li><a href="#">Cancellation Options</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Legal</h4>
                    <ul class="footer-links">
                        <li><a href="#">Terms & Conditions</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Cookie Policy</a></li>
                        <li><a href="#">Copyright Policy</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Contact Us</h4>
                    <ul class="footer-links">
                        <li><a href="#">Customer Support</a></li>
                        <li><a href="#">Feedback</a></li>
                        <li><a href="#">Business Inquiries</a></li>
                        <li><a href="#">+91 1234567890</a></li>
                        <li><a href="#">support@travelease.com</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; {% now "Y" %} TravelEase. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Tab switching functionality
        const searchTabs = document.querySelectorAll('.search-tab');
        const searchContents = document.querySelectorAll('.search-content');

        searchTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active class from all tabs and contents
                searchTabs.forEach(t => t.classList.remove('active'));
                searchContents.forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked tab
                this.classList.add('active');
                
                // Show corresponding content
                const tabId = this.getAttribute('data-tab');
                document.getElementById(tabId + '-search').classList.add('active');
            });
        });

        // Trip type toggle functionality
        const tripTypeOptions = document.querySelectorAll('.trip-type-option');
        const tripTypeInput = document.getElementById('trip-type');
        const returnDateGroup = document.querySelector('.return-date-group');
        const returnDateInput = document.getElementById('return-date');

        // Set default return date to tomorrow if not set
        if (!returnDateInput.value) {
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            returnDateInput.value = tomorrow.toISOString().split('T')[0];
        }

        // Initialize trip type based on URL parameter or default to oneway
        const urlParams = new URLSearchParams(window.location.search);
        const initialTripType = urlParams.get('trip_type') || 'oneway';
        if (initialTripType === 'roundtrip') {
            document.querySelector('[data-trip-type="roundtrip"]').classList.add('active');
            document.querySelector('[data-trip-type="oneway"]').classList.remove('active');
            tripTypeInput.value = 'roundtrip';
            returnDateGroup.style.display = 'block';
        } else {
            document.querySelector('[data-trip-type="oneway"]').classList.add('active');
            document.querySelector('[data-trip-type="roundtrip"]').classList.remove('active');
            tripTypeInput.value = 'oneway';
            returnDateGroup.style.display = 'none';
        }

        tripTypeOptions.forEach(option => {
            option.addEventListener('click', function() {
                // Remove active class
                tripTypeOptions.forEach(opt => opt.classList.remove('active'));

                // Add active class to clicked one
                this.classList.add('active');

                // Get selected trip type
                const tripType = this.getAttribute('data-trip-type');
                tripTypeInput.value = tripType;

                // Toggle return date visibility
                if (tripType === 'roundtrip') {
                    returnDateGroup.style.display = 'block';
                } else {
                    returnDateGroup.style.display = 'none';
                    returnDateInput.value = '';  // Optional: clear return date if not needed
                }
            });
        });

        // Airport autocomplete functionality
        let cityList = [];

        // Try to fetch airport data, or use mock data if not available
        fetch('/static/airportData.json')
            .then(response => response.json())
            .then(data => {
                // Loop through all continents
                for (const continent in data) {
                    const countries = data[continent];

                    // Loop through each country in a continent
                    for (const country in countries) {
                        const airports = countries[country];

                        // Collect each airport's city and code
                        airports.forEach(item => {
                            cityList.push(`${item.city} (${item.code})`);
                        });
                    }
                }
            })
            .catch(error => {
                console.log('Error loading airport data, using mock data instead');
                // Mock airport data in case the file is not available
                cityList = [
                    "New York (JFK)",
                    "London (LHR)",
                    "Paris (CDG)",
                    "Tokyo (HND)",
                    "Sydney (SYD)",
                    "Dubai (DXB)",
                    "Singapore (SIN)",
                    "Los Angeles (LAX)",
                    "Chicago (ORD)",
                    "Mumbai (BOM)",
                    "Delhi (DEL)",
                    "Bangkok (BKK)"
                ];
            });

        const input = document.getElementById("origin");
        const originList = document.getElementById("origin-list");
        const destinationList = document.getElementById("destination-list");

        input.addEventListener("input", function() {
            const value = this.value;
            originList.innerHTML = "";
            destinationList.innerHTML = "";

            if (value) {
                const filtered = cityList.filter(item => item.toLowerCase().includes(value.toLowerCase()));
                filtered.forEach(item => {
                    const div = document.createElement("div");
                    div.textContent = item;
                    div.classList.add("suggestion");
                    div.addEventListener("click", function() {
                        input.value = item;
                        originList.innerHTML = "";
                        destinationList.innerHTML = "";
                    });
                    originList.appendChild(div);
                });
            }
        });

        const input2 = document.getElementById("destination");
        input2.addEventListener("input", function() {
            const value = this.value;
            originList.innerHTML = "";
            destinationList.innerHTML = "";

            if (value) {
                const filtered = cityList.filter(item => item.toLowerCase().includes(value.toLowerCase()));
                filtered.forEach(item => {
                    const div = document.createElement("div");
                    div.textContent = item;
                    div.classList.add("suggestion");
                    div.addEventListener("click", function() {
                        input2.value = item;
                        originList.innerHTML = "";
                        destinationList.innerHTML = "";
                    });
                    destinationList.appendChild(div);
                });
            }
        });

        document.addEventListener("click", function(event) {
            if (!event.target.classList.contains("suggestion")) {
                originList.innerHTML = "";
                destinationList.innerHTML = "";
            }
        });

        // Set minimum dates for departure and return
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('departure-date').setAttribute('min', today);

        // Ensure return date is after departure date
        document.getElementById('departure-date').addEventListener('change', function() {
            const departureDate = this.value;
            document.getElementById('return-date').setAttribute('min', departureDate);

            // If return date is before departure date, update it
            const returnDate = document.getElementById('return-date').value;
            if (returnDate < departureDate) {
                document.getElementById('return-date').value = departureDate;
            }
        });

        // Set minimum dates for hotel search
        document.getElementById('check-in').setAttribute('min', today);
        document.getElementById('check-in').addEventListener('change', function() {
            const checkInDate = this.value;
            document.getElementById('check-out').setAttribute('min', checkInDate);
            
            // If check-out is before check-in, update it
            const checkOutDate = document.getElementById('check-out').value;
            if (checkOutDate < checkInDate) {
                document.getElementById('check-out').value = checkInDate;
            }
        });

        // Set minimum dates for package search
        document.getElementById('package-start').setAttribute('min', today);
    </script>
</body>

</html>